<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Opening App...</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script>
    const params = new URLSearchParams(window.location.search);
    const id = params.get("id") || "default";

    // Deep link URLs for both platforms
    const deepLink = `yourapp://resto?id=${id}`;

    // Fallback store or web URL (replace with App Store/Play Store later)
    const fallbackUrl = "https://youtube.com";

    // Detect platform
    const userAgent = navigator.userAgent || navigator.vendor || window.opera;
    const isAndroid = /android/i.test(userAgent);
    const isIOS = /iPad|iPhone|iPod/.test(userAgent) && !window.MSStream;

    function openApp() {
      const now = Date.now();

      // Try to open app
      window.location = deepLink;

      // Fallback if app doesn't open
      setTimeout(() => {
        if (Date.now() - now < 2000) {
          window.location = fallbackUrl;
        }
      }, 1500);
    }

    window.onload = openApp;
  </script>
</head>
<body>
  <p>Redirecting to the restaurant...</p>
</body>
</html>
