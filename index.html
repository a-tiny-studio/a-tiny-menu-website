<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Opening App...</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script>
    const params = new URLSearchParams(window.location.search);
    const id = params.get("id");
    
    const androidDeepLink = `yourapp://resto?id=${id}`;
    const iosDeepLink = `yourapp://resto?id=${id}`;

    const androidStore = "https://play.google.com/store/apps/details?id=com.yourapp.id";
    const iosStore = "https://apps.apple.com/app/id000000000"; // Replace with actual App Store ID

    const userAgent = navigator.userAgent || navigator.vendor || window.opera;

    function openApp() {
      const now = Date.now();
      let deepLink = androidDeepLink;
      let storeLink = androidStore;

      if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
        deepLink = iosDeepLink;
        storeLink = iosStore;
      }

      window.location = deepLink;

      setTimeout(() => {
        if (Date.now() - now < 2000) {
          window.location = storeLink;
        }
      }, 1500);
    }

    window.onload = openApp;
  </script>
</head>
<body>
  <p>Redirecting to the restaurant...</p>
</body>
</html>
